



# 日志内容

* 页面进入退出,生命周期变化:  记录页面内容,栈内容,包括fragment. 参考bugly的"跟踪数据"

* 点击行为记录+view text. 可使用aop手段透明化埋点.
* 网络请求:请求和响应内容:使用okhttp拦截器
* log级别>=info或者warn的,写入文件-->具体开发自己控制打印:使用自己的log工具类
* 系统logcat输出: 使用命令行读取自己应用的logcat输出文本,写入文件.实现可参考:com.didichuxing.doraemonkit.kit.loginfo.helper.LogcatHelper

前三种使用xlog记录,给予不同tag标记,和普通log一起经mmap写入到本地文件.

注意控制日志文件大小. 可每次退出app时清除,仅记录本次的日志.

### 上传前附加信息:

* 用户设备信息,参考sentry的context内容,足够用了
* 本地sp内容

# 后端控制台设计:

## 功能

* 根据uid,deviceId查询
* 查询的结果可以是对应的文件下载链接,或者直接在页面上展示该文件的文本内容
* 点击回捞的按钮,对接推送系统

## 注意问题

* 及时清除服务器端存储的文件

# 回捞方式

* 针对特定uid,deviceid推送,收到推送后上传文件
* 引导用户手动点击某个按钮,上传文件
* 用户反馈页面,自动上传文件



